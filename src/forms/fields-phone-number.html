<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<link rel="import" href="/bower_components/iron-icons/maps-icons.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">

<link rel="import" href="/src/forms/shared-styles.html">
<link rel="import" href="/src/forms/forms-behavior.html">

<dom-module id="fields-phone-number">
<template>
	<style include="shared-styles">
.field
{
	margin: -1.5rem 0 -1.5rem 0;
	--paper-input-container-disabled: 
	{
		opacity: 1;
	};
	--paper-input-container-underline-disabled:
	{
		opacity: 0;
	}
}
.fieldIcon
{
	color: grey;
}

	</style>
	<paper-input id="inputField" class="field" disabled$="[[!editMode]]" auto-validate allowed-pattern="[[pattern]]" type="[[type]]" value="{{number}}">
		  <iron-icon class="fieldIcon" icon="[[icon]]" prefix></iron-icon>
	</paper-input>
</template>
<script>
	Polymer({
		is: 'fields-phone-number',

		properties: {

			number:
			{
				type: String,
				reflectToAttribute: true,
				notify: true
			}
			, type:
			{
				type: String,
				value: ''
			}
			, editMode:
			{
				type: Boolean,
				value: false
			}
			, pattern:
			{
				type: String,
				value: ''
			}
			, icon:
			{
				type: String
			}
		}

		, isEmpty: function ()
		{
			return (this.$.inputField.value == '');
		}
		, isValid: function ()
		{
			return (this.isEmpty() || this.$.inputField.validate());
		}

		, behaviors:
		[
			FormsBehavior
		]
	});
</script>

</dom-module>
